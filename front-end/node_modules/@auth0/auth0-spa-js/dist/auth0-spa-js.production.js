!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).createAuth0Client=e()}(this,(function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function r(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{a(i.next(t))}catch(t){o(t)}}function s(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(c,s)}a((i=i.apply(t,e||[])).next())}))}function o(t,e){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)c.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return c}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function l(t,e){return t(e={exports:{}},e.exports),e.exports}var d=function(t){return t&&t.Math==Math&&t},f=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof a&&a)||function(){return this}()||Function("return this")(),g=function(t){try{return!!t()}catch(t){return!0}},h=!g((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),I={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,y={f:p&&!I.call({1:2},1)?function(t){var e=p(this,t);return!!e&&e.enumerable}:I},b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},m={}.toString,v=function(t){return m.call(t).slice(8,-1)},B="".split,C=g((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==v(t)?B.call(t,""):Object(t)}:Object,F=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},U=function(t){return C(F(t))},V=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Z=function(t,e){if(!V(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!V(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!V(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!V(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},S={}.hasOwnProperty,X=function(t,e){return S.call(t,e)},G=f.document,w=V(G)&&V(G.createElement),Q=function(t){return w?G.createElement(t):{}},x=!h&&!g((function(){return 7!=Object.defineProperty(Q("div"),"a",{get:function(){return 7}}).a})),R=Object.getOwnPropertyDescriptor,A={f:h?R:function(t,e){if(t=U(t),e=Z(e,!0),x)try{return R(t,e)}catch(t){}if(X(t,e))return b(!y.f.call(t,e),t[e])}},W=function(t){if(!V(t))throw TypeError(String(t)+" is not an object");return t},L=Object.defineProperty,J={f:h?L:function(t,e,n){if(W(t),e=Z(e,!0),W(n),x)try{return L(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},H=h?function(t,e,n){return J.f(t,e,b(1,n))}:function(t,e,n){return t[e]=n,t},k=function(t,e){try{H(f,t,e)}catch(n){f[t]=e}return e},E="__core-js_shared__",T=f[E]||k(E,{}),Y=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return Y.call(t)});var N,K,O,z=T.inspectSource,P=f.WeakMap,j="function"==typeof P&&/native code/.test(z(P)),D=l((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.0",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),_=0,M=Math.random(),q=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++_+M).toString(36)},$=D("keys"),tt=function(t){return $[t]||($[t]=q(t))},et={},nt=f.WeakMap;if(j){var it=T.state||(T.state=new nt),rt=it.get,ot=it.has,ct=it.set;N=function(t,e){return e.facade=t,ct.call(it,t,e),e},K=function(t){return rt.call(it,t)||{}},O=function(t){return ot.call(it,t)}}else{var st=tt("state");et[st]=!0,N=function(t,e){return e.facade=t,H(t,st,e),e},K=function(t){return X(t,st)?t[st]:{}},O=function(t){return X(t,st)}}var at,ut={set:N,get:K,has:O,enforce:function(t){return O(t)?K(t):N(t,{})},getterFor:function(t){return function(e){var n;if(!V(e)||(n=K(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},lt=l((function(t){var e=ut.get,n=ut.enforce,i=String(String).split("String");(t.exports=function(t,e,r,o){var c,s=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||X(r,"name")||H(r,"name",e),(c=n(r)).source||(c.source=i.join("string"==typeof e?e:""))),t!==f?(s?!u&&t[e]&&(a=!0):delete t[e],a?t[e]=r:H(t,e,r)):a?t[e]=r:k(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||z(this)}))})),dt=f,ft=function(t){return"function"==typeof t?t:void 0},gt=function(t,e){return arguments.length<2?ft(dt[t])||ft(f[t]):dt[t]&&dt[t][e]||f[t]&&f[t][e]},ht=Math.ceil,It=Math.floor,pt=function(t){return isNaN(t=+t)?0:(t>0?It:ht)(t)},yt=Math.min,bt=function(t){return t>0?yt(pt(t),9007199254740991):0},mt=Math.max,vt=Math.min,Bt=function(t){return function(e,n,i){var r,o=U(e),c=bt(o.length),s=function(t,e){var n=pt(t);return n<0?mt(n+e,0):vt(n,e)}(i,c);if(t&&n!=n){for(;c>s;)if((r=o[s++])!=r)return!0}else for(;c>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},Ct={includes:Bt(!0),indexOf:Bt(!1)},Ft=Ct.indexOf,Ut=function(t,e){var n,i=U(t),r=0,o=[];for(n in i)!X(et,n)&&X(i,n)&&o.push(n);for(;e.length>r;)X(i,n=e[r++])&&(~Ft(o,n)||o.push(n));return o},Vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Zt=Vt.concat("length","prototype"),St={f:Object.getOwnPropertyNames||function(t){return Ut(t,Zt)}},Xt={f:Object.getOwnPropertySymbols},Gt=gt("Reflect","ownKeys")||function(t){var e=St.f(W(t)),n=Xt.f;return n?e.concat(n(t)):e},wt=function(t,e){for(var n=Gt(e),i=J.f,r=A.f,o=0;o<n.length;o++){var c=n[o];X(t,c)||i(t,c,r(e,c))}},Qt=/#|\.prototype\./,xt=function(t,e){var n=At[Rt(t)];return n==Lt||n!=Wt&&("function"==typeof e?g(e):!!e)},Rt=xt.normalize=function(t){return String(t).replace(Qt,".").toLowerCase()},At=xt.data={},Wt=xt.NATIVE="N",Lt=xt.POLYFILL="P",Jt=xt,Ht=A.f,kt=function(t,e){var n,i,r,o,c,s=t.target,a=t.global,u=t.stat;if(n=a?f:u?f[s]||k(s,{}):(f[s]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(c=Ht(n,i))&&c.value:n[i],!Jt(a?i:s+(u?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;wt(o,r)}(t.sham||r&&r.sham)&&H(o,"sham",!0),lt(n,i,o,t)}},Et=!!Object.getOwnPropertySymbols&&!g((function(){return!String(Symbol())})),Tt=Et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Yt=D("wks"),Nt=f.Symbol,Kt=Tt?Nt:Nt&&Nt.withoutSetter||q,Ot=function(t){return X(Yt,t)||(Et&&X(Nt,t)?Yt[t]=Nt[t]:Yt[t]=Kt("Symbol."+t)),Yt[t]},zt=Ot("match"),Pt=function(t){if(function(t){var e;return V(t)&&(void 0!==(e=t[zt])?!!e:"RegExp"==v(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},jt=Ot("match"),Dt=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[jt]=!1,"/./"[t](e)}catch(t){}}return!1},_t=A.f,Mt="".startsWith,qt=Math.min,$t=Dt("startsWith"),te=!($t||(at=_t(String.prototype,"startsWith"),!at||at.writable));kt({target:"String",proto:!0,forced:!te&&!$t},{startsWith:function(t){var e=String(F(this));Pt(t);var n=bt(qt(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return Mt?Mt.call(e,i,n):e.slice(n,n+i.length)===i}});var ee,ne,ie=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},re=function(t,e,n){if(ie(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},oe=Function.call,ce=function(t,e,n){return re(oe,f[t].prototype[e],n)},se=(ce("String","startsWith"),Array.isArray||function(t){return"Array"==v(t)}),ae=function(t){return Object(F(t))},ue=function(t,e,n){var i=Z(e);i in t?J.f(t,i,b(0,n)):t[i]=n},le=Ot("species"),de=function(t,e){var n;return se(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!se(n.prototype)?V(n)&&null===(n=n[le])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},fe=gt("navigator","userAgent")||"",ge=f.process,he=ge&&ge.versions,Ie=he&&he.v8;Ie?ne=(ee=Ie.split("."))[0]+ee[1]:fe&&(!(ee=fe.match(/Edge\/(\d+)/))||ee[1]>=74)&&(ee=fe.match(/Chrome\/(\d+)/))&&(ne=ee[1]);var pe=ne&&+ne,ye=Ot("species"),be=Ot("isConcatSpreadable"),me=9007199254740991,ve="Maximum allowed index exceeded",Be=pe>=51||!g((function(){var t=[];return t[be]=!1,t.concat()[0]!==t})),Ce=function(t){return pe>=51||!g((function(){var e=[];return(e.constructor={})[ye]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}("concat"),Fe=function(t){if(!V(t))return!1;var e=t[be];return void 0!==e?!!e:se(t)};kt({target:"Array",proto:!0,forced:!Be||!Ce},{concat:function(t){var e,n,i,r,o,c=ae(this),s=de(c,0),a=0;for(e=-1,i=arguments.length;e<i;e++)if(Fe(o=-1===e?c:arguments[e])){if(a+(r=bt(o.length))>me)throw TypeError(ve);for(n=0;n<r;n++,a++)n in o&&ue(s,a,o[n])}else{if(a>=me)throw TypeError(ve);ue(s,a++,o)}return s.length=a,s}});var Ue={};Ue[Ot("toStringTag")]="z";var Ve="[object z]"===String(Ue),Ze=Ot("toStringTag"),Se="Arguments"==v(function(){return arguments}()),Xe=Ve?v:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ze))?n:Se?v(e):"Object"==(i=v(e))&&"function"==typeof e.callee?"Arguments":i},Ge=Ve?{}.toString:function(){return"[object "+Xe(this)+"]"};Ve||lt(Object.prototype,"toString",Ge,{unsafe:!0});var we,Qe=Object.keys||function(t){return Ut(t,Vt)},xe=h?Object.defineProperties:function(t,e){W(t);for(var n,i=Qe(e),r=i.length,o=0;r>o;)J.f(t,n=i[o++],e[n]);return t},Re=gt("document","documentElement"),Ae=tt("IE_PROTO"),We=function(){},Le=function(t){return"<script>"+t+"</"+"script>"},Je=function(){try{we=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Je=we?function(t){t.write(Le("")),t.close();var e=t.parentWindow.Object;return t=null,e}(we):((e=Q("iframe")).style.display="none",Re.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Le("document.F=Object")),t.close(),t.F);for(var n=Vt.length;n--;)delete Je.prototype[Vt[n]];return Je()};et[Ae]=!0;var He=Object.create||function(t,e){var n;return null!==t?(We.prototype=W(t),n=new We,We.prototype=null,n[Ae]=t):n=Je(),void 0===e?n:xe(n,e)},ke=St.f,Ee={}.toString,Te="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ye={f:function(t){return Te&&"[object Window]"==Ee.call(t)?function(t){try{return ke(t)}catch(t){return Te.slice()}}(t):ke(U(t))}},Ne={f:Ot},Ke=J.f,Oe=function(t){var e=dt.Symbol||(dt.Symbol={});X(e,t)||Ke(e,t,{value:Ne.f(t)})},ze=J.f,Pe=Ot("toStringTag"),je=function(t,e,n){t&&!X(t=n?t:t.prototype,Pe)&&ze(t,Pe,{configurable:!0,value:e})},De=[].push,_e=function(t){var e=1==t,n=2==t,i=3==t,r=4==t,o=6==t,c=7==t,s=5==t||o;return function(a,u,l,d){for(var f,g,h=ae(a),I=C(h),p=re(u,l,3),y=bt(I.length),b=0,m=d||de,v=e?m(a,y):n||c?m(a,0):void 0;y>b;b++)if((s||b in I)&&(g=p(f=I[b],b,h),t))if(e)v[b]=g;else if(g)switch(t){case 3:return!0;case 5:return f;case 6:return b;case 2:De.call(v,f)}else switch(t){case 4:return!1;case 7:De.call(v,f)}return o?-1:i||r?r:v}},Me={forEach:_e(0),map:_e(1),filter:_e(2),some:_e(3),every:_e(4),find:_e(5),findIndex:_e(6),filterOut:_e(7)}.forEach,qe=tt("hidden"),$e="Symbol",tn=Ot("toPrimitive"),en=ut.set,nn=ut.getterFor($e),rn=Object.prototype,on=f.Symbol,cn=gt("JSON","stringify"),sn=A.f,an=J.f,un=Ye.f,ln=y.f,dn=D("symbols"),fn=D("op-symbols"),gn=D("string-to-symbol-registry"),hn=D("symbol-to-string-registry"),In=D("wks"),pn=f.QObject,yn=!pn||!pn.prototype||!pn.prototype.findChild,bn=h&&g((function(){return 7!=He(an({},"a",{get:function(){return an(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=sn(rn,e);i&&delete rn[e],an(t,e,n),i&&t!==rn&&an(rn,e,i)}:an,mn=function(t,e){var n=dn[t]=He(on.prototype);return en(n,{type:$e,tag:t,description:e}),h||(n.description=e),n},vn=Tt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof on},Bn=function(t,e,n){t===rn&&Bn(fn,e,n),W(t);var i=Z(e,!0);return W(n),X(dn,i)?(n.enumerable?(X(t,qe)&&t[qe][i]&&(t[qe][i]=!1),n=He(n,{enumerable:b(0,!1)})):(X(t,qe)||an(t,qe,b(1,{})),t[qe][i]=!0),bn(t,i,n)):an(t,i,n)},Cn=function(t,e){W(t);var n=U(e),i=Qe(n).concat(Zn(n));return Me(i,(function(e){h&&!Fn.call(n,e)||Bn(t,e,n[e])})),t},Fn=function(t){var e=Z(t,!0),n=ln.call(this,e);return!(this===rn&&X(dn,e)&&!X(fn,e))&&(!(n||!X(this,e)||!X(dn,e)||X(this,qe)&&this[qe][e])||n)},Un=function(t,e){var n=U(t),i=Z(e,!0);if(n!==rn||!X(dn,i)||X(fn,i)){var r=sn(n,i);return!r||!X(dn,i)||X(n,qe)&&n[qe][i]||(r.enumerable=!0),r}},Vn=function(t){var e=un(U(t)),n=[];return Me(e,(function(t){X(dn,t)||X(et,t)||n.push(t)})),n},Zn=function(t){var e=t===rn,n=un(e?fn:U(t)),i=[];return Me(n,(function(t){!X(dn,t)||e&&!X(rn,t)||i.push(dn[t])})),i};if(Et||(lt((on=function(){if(this instanceof on)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=q(t),n=function(t){this===rn&&n.call(fn,t),X(this,qe)&&X(this[qe],e)&&(this[qe][e]=!1),bn(this,e,b(1,t))};return h&&yn&&bn(rn,e,{configurable:!0,set:n}),mn(e,t)}).prototype,"toString",(function(){return nn(this).tag})),lt(on,"withoutSetter",(function(t){return mn(q(t),t)})),y.f=Fn,J.f=Bn,A.f=Un,St.f=Ye.f=Vn,Xt.f=Zn,Ne.f=function(t){return mn(Ot(t),t)},h&&(an(on.prototype,"description",{configurable:!0,get:function(){return nn(this).description}}),lt(rn,"propertyIsEnumerable",Fn,{unsafe:!0}))),kt({global:!0,wrap:!0,forced:!Et,sham:!Et},{Symbol:on}),Me(Qe(In),(function(t){Oe(t)})),kt({target:$e,stat:!0,forced:!Et},{for:function(t){var e=String(t);if(X(gn,e))return gn[e];var n=on(e);return gn[e]=n,hn[n]=e,n},keyFor:function(t){if(!vn(t))throw TypeError(t+" is not a symbol");if(X(hn,t))return hn[t]},useSetter:function(){yn=!0},useSimple:function(){yn=!1}}),kt({target:"Object",stat:!0,forced:!Et,sham:!h},{create:function(t,e){return void 0===e?He(t):Cn(He(t),e)},defineProperty:Bn,defineProperties:Cn,getOwnPropertyDescriptor:Un}),kt({target:"Object",stat:!0,forced:!Et},{getOwnPropertyNames:Vn,getOwnPropertySymbols:Zn}),kt({target:"Object",stat:!0,forced:g((function(){Xt.f(1)}))},{getOwnPropertySymbols:function(t){return Xt.f(ae(t))}}),cn){var Sn=!Et||g((function(){var t=on();return"[null]"!=cn([t])||"{}"!=cn({a:t})||"{}"!=cn(Object(t))}));kt({target:"JSON",stat:!0,forced:Sn},{stringify:function(t,e,n){for(var i,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=e,(V(e)||void 0!==t)&&!vn(t))return se(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!vn(e))return e}),r[1]=e,cn.apply(null,r)}})}on.prototype[tn]||H(on.prototype,tn,on.prototype.valueOf),je(on,$e),et[qe]=!0,Oe("asyncIterator");var Xn=J.f,Gn=f.Symbol;if(h&&"function"==typeof Gn&&(!("description"in Gn.prototype)||void 0!==Gn().description)){var wn={},Qn=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Qn?new Gn(t):void 0===t?Gn():Gn(t);return""===t&&(wn[e]=!0),e};wt(Qn,Gn);var xn=Qn.prototype=Gn.prototype;xn.constructor=Qn;var Rn=xn.toString,An="Symbol(test)"==String(Gn("test")),Wn=/^Symbol\((.*)\)[^)]+$/;Xn(xn,"description",{configurable:!0,get:function(){var t=V(this)?this.valueOf():this,e=Rn.call(t);if(X(wn,t))return"";var n=An?e.slice(7,-1):e.replace(Wn,"$1");return""===n?void 0:n}}),kt({global:!0,forced:!0},{Symbol:Qn})}Oe("hasInstance"),Oe("isConcatSpreadable"),Oe("iterator"),Oe("match"),Oe("matchAll"),Oe("replace"),Oe("search"),Oe("species"),Oe("split"),Oe("toPrimitive"),Oe("toStringTag"),Oe("unscopables"),je(f.JSON,"JSON",!0),je(Math,"Math",!0),kt({global:!0},{Reflect:{}}),je(f.Reflect,"Reflect",!0);dt.Symbol;var Ln,Jn,Hn,kn=function(t){return function(e,n){var i,r,o=String(F(e)),c=pt(n),s=o.length;return c<0||c>=s?t?"":void 0:(i=o.charCodeAt(c))<55296||i>56319||c+1===s||(r=o.charCodeAt(c+1))<56320||r>57343?t?o.charAt(c):i:t?o.slice(c,c+2):r-56320+(i-55296<<10)+65536}},En={codeAt:kn(!1),charAt:kn(!0)},Tn=!g((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Yn=tt("IE_PROTO"),Nn=Object.prototype,Kn=Tn?Object.getPrototypeOf:function(t){return t=ae(t),X(t,Yn)?t[Yn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Nn:null},On=Ot("iterator"),zn=!1;[].keys&&("next"in(Hn=[].keys())?(Jn=Kn(Kn(Hn)))!==Object.prototype&&(Ln=Jn):zn=!0),null==Ln&&(Ln={}),X(Ln,On)||H(Ln,On,(function(){return this}));var Pn={IteratorPrototype:Ln,BUGGY_SAFARI_ITERATORS:zn},jn={},Dn=Pn.IteratorPrototype,_n=function(){return this},Mn=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return W(n),function(t){if(!V(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),qn=Pn.IteratorPrototype,$n=Pn.BUGGY_SAFARI_ITERATORS,ti=Ot("iterator"),ei="keys",ni="values",ii="entries",ri=function(){return this},oi=function(t,e,n,i,r,o,c){!function(t,e,n){var i=e+" Iterator";t.prototype=He(Dn,{next:b(1,n)}),je(t,i,!1),jn[i]=_n}(n,e,i);var s,a,u,l=function(t){if(t===r&&I)return I;if(!$n&&t in g)return g[t];switch(t){case ei:case ni:case ii:return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",f=!1,g=t.prototype,h=g[ti]||g["@@iterator"]||r&&g[r],I=!$n&&h||l(r),p="Array"==e&&g.entries||h;if(p&&(s=Kn(p.call(new t)),qn!==Object.prototype&&s.next&&(Kn(s)!==qn&&(Mn?Mn(s,qn):"function"!=typeof s[ti]&&H(s,ti,ri)),je(s,d,!0))),r==ni&&h&&h.name!==ni&&(f=!0,I=function(){return h.call(this)}),g[ti]!==I&&H(g,ti,I),jn[e]=I,r)if(a={values:l(ni),keys:o?I:l(ei),entries:l(ii)},c)for(u in a)($n||f||!(u in g))&&lt(g,u,a[u]);else kt({target:e,proto:!0,forced:$n||f},a);return a},ci=En.charAt,si="String Iterator",ai=ut.set,ui=ut.getterFor(si);oi(String,"String",(function(t){ai(this,{type:si,string:String(t),index:0})}),(function(){var t,e=ui(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=ci(n,i),e.index+=t.length,{value:t,done:!1})}));var li=function(t){var e=t.return;if(void 0!==e)return W(e.call(t)).value},di=function(t,e,n,i){try{return i?e(W(n)[0],n[1]):e(n)}catch(e){throw li(t),e}},fi=Ot("iterator"),gi=Array.prototype,hi=function(t){return void 0!==t&&(jn.Array===t||gi[fi]===t)},Ii=Ot("iterator"),pi=function(t){if(null!=t)return t[Ii]||t["@@iterator"]||jn[Xe(t)]},yi=Ot("iterator"),bi=!1;try{var mi=0,vi={next:function(){return{done:!!mi++}},return:function(){bi=!0}};vi[yi]=function(){return this},Array.from(vi,(function(){throw 2}))}catch(t){}var Bi=function(t,e){if(!e&&!bi)return!1;var n=!1;try{var i={};i[yi]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},Ci=!Bi((function(t){Array.from(t)}));kt({target:"Array",stat:!0,forced:Ci},{from:function(t){var e,n,i,r,o,c,s=ae(t),a="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,f=pi(s),g=0;if(d&&(l=re(l,u>2?arguments[2]:void 0,2)),null==f||a==Array&&hi(f))for(n=new a(e=bt(s.length));e>g;g++)c=d?l(s[g],g):s[g],ue(n,g,c);else for(o=(r=f.call(s)).next,n=new a;!(i=o.call(r)).done;g++)c=d?di(r,l,[i.value,g],!0):i.value,ue(n,g,c);return n.length=g,n}});dt.Array.from;var Fi,Ui="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Vi=J.f,Zi=f.Int8Array,Si=Zi&&Zi.prototype,Xi=f.Uint8ClampedArray,Gi=Xi&&Xi.prototype,wi=Zi&&Kn(Zi),Qi=Si&&Kn(Si),xi=Object.prototype,Ri=xi.isPrototypeOf,Ai=Ot("toStringTag"),Wi=q("TYPED_ARRAY_TAG"),Li=Ui&&!!Mn&&"Opera"!==Xe(f.opera),Ji={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Hi=function(t){return V(t)&&X(Ji,Xe(t))};for(Fi in Ji)f[Fi]||(Li=!1);if((!Li||"function"!=typeof wi||wi===Function.prototype)&&(wi=function(){throw TypeError("Incorrect invocation")},Li))for(Fi in Ji)f[Fi]&&Mn(f[Fi],wi);if((!Li||!Qi||Qi===xi)&&(Qi=wi.prototype,Li))for(Fi in Ji)f[Fi]&&Mn(f[Fi].prototype,Qi);if(Li&&Kn(Gi)!==Qi&&Mn(Gi,Qi),h&&!X(Qi,Ai))for(Fi in!0,Vi(Qi,Ai,{get:function(){return V(this)?this[Wi]:void 0}}),Ji)f[Fi]&&H(f[Fi],Wi,Fi);var ki=function(t){if(Hi(t))return t;throw TypeError("Target is not a typed array")},Ei=function(t){if(Mn){if(Ri.call(wi,t))return t}else for(var e in Ji)if(X(Ji,Fi)){var n=f[e];if(n&&(t===n||Ri.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},Ti=function(t,e,n){if(h){if(n)for(var i in Ji){var r=f[i];r&&X(r.prototype,t)&&delete r.prototype[t]}Qi[t]&&!n||lt(Qi,t,n?e:Li&&Si[t]||e)}},Yi=Ot("species"),Ni=ki,Ki=Ei,Oi=[].slice;Ti("slice",(function(t,e){for(var n=Oi.call(Ni(this),t,e),i=function(t,e){var n,i=W(t).constructor;return void 0===i||null==(n=W(i)[Yi])?e:ie(n)}(this,this.constructor),r=0,o=n.length,c=new(Ki(i))(o);o>r;)c[r]=n[r++];return c}),g((function(){new Int8Array(1).slice()})));var zi=Ot("unscopables"),Pi=Array.prototype;null==Pi[zi]&&J.f(Pi,zi,{configurable:!0,value:He(null)});var ji=function(t){Pi[zi][t]=!0},Di=Object.defineProperty,_i={},Mi=function(t){throw t},qi=Ct.includes,$i=function(t,e){if(X(_i,t))return _i[t];e||(e={});var n=[][t],i=!!X(e,"ACCESSORS")&&e.ACCESSORS,r=X(e,0)?e[0]:Mi,o=X(e,1)?e[1]:void 0;return _i[t]=!!n&&!g((function(){if(i&&!h)return!0;var t={length:-1};i?Di(t,1,{enumerable:!0,get:Mi}):t[1]=1,n.call(t,r,o)}))}("indexOf",{ACCESSORS:!0,1:0});kt({target:"Array",proto:!0,forced:!$i},{includes:function(t){return qi(this,t,arguments.length>1?arguments[1]:void 0)}}),ji("includes");ce("Array","includes");kt({target:"String",proto:!0,forced:!Dt("includes")},{includes:function(t){return!!~String(F(this)).indexOf(Pt(t),arguments.length>1?arguments[1]:void 0)}});ce("String","includes");var tr=!g((function(){return Object.isExtensible(Object.preventExtensions({}))})),er=l((function(t){var e=J.f,n=q("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++i,weakData:{}}})},c=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!V(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!X(t,n)){if(!r(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!X(t,n)){if(!r(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return tr&&c.REQUIRED&&r(t)&&!X(t,n)&&o(t),t}};et[n]=!0})),nr=(er.REQUIRED,er.fastKey,er.getWeakData,er.onFreeze,function(t,e){this.stopped=t,this.result=e}),ir=function(t,e,n){var i,r,o,c,s,a,u,l=n&&n.that,d=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),g=!(!n||!n.INTERRUPTED),h=re(e,l,1+d+g),I=function(t){return i&&li(i),new nr(!0,t)},p=function(t){return d?(W(t),g?h(t[0],t[1],I):h(t[0],t[1])):g?h(t,I):h(t)};if(f)i=t;else{if("function"!=typeof(r=pi(t)))throw TypeError("Target is not iterable");if(hi(r)){for(o=0,c=bt(t.length);c>o;o++)if((s=p(t[o]))&&s instanceof nr)return s;return new nr(!1)}i=r.call(t)}for(a=i.next;!(u=a.call(i)).done;){try{s=p(u.value)}catch(t){throw li(i),t}if("object"==typeof s&&s&&s instanceof nr)return s}return new nr(!1)},rr=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},or=function(t,e,n){for(var i in e)lt(t,i,e[i],n);return t},cr=Ot("species"),sr=J.f,ar=er.fastKey,ur=ut.set,lr=ut.getterFor,dr=(function(t,e,n){var i=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),o=i?"set":"add",c=f[t],s=c&&c.prototype,a=c,u={},l=function(t){var e=s[t];lt(s,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!V(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!V(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!V(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(Jt(t,"function"!=typeof c||!(r||s.forEach&&!g((function(){(new c).entries().next()})))))a=n.getConstructor(e,t,i,o),er.REQUIRED=!0;else if(Jt(t,!0)){var d=new a,h=d[o](r?{}:-0,1)!=d,I=g((function(){d.has(1)})),p=Bi((function(t){new c(t)})),y=!r&&g((function(){for(var t=new c,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((a=e((function(e,n){rr(e,a,t);var r=function(t,e,n){var i,r;return Mn&&"function"==typeof(i=e.constructor)&&i!==n&&V(r=i.prototype)&&r!==n.prototype&&Mn(t,r),t}(new c,e,a);return null!=n&&ir(n,r[o],{that:r,AS_ENTRIES:i}),r}))).prototype=s,s.constructor=a),(I||y)&&(l("delete"),l("has"),i&&l("get")),(y||h)&&l(o),r&&s.clear&&delete s.clear}u[t]=a,kt({global:!0,forced:a!=c},u),je(a,t),r||n.setStrong(a,t,i)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,i){var r=t((function(t,o){rr(t,r,e),ur(t,{type:e,index:He(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=o&&ir(o,t[i],{that:t,AS_ENTRIES:n})})),o=lr(e),c=function(t,e,n){var i,r,c=o(t),a=s(t,e);return a?a.value=n:(c.last=a={index:r=ar(e,!0),key:e,value:n,previous:i=c.last,next:void 0,removed:!1},c.first||(c.first=a),i&&(i.next=a),h?c.size++:t.size++,"F"!==r&&(c.index[r]=a)),t},s=function(t,e){var n,i=o(t),r=ar(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return or(r.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),i=s(e,t);if(i){var r=i.next,c=i.previous;delete n.index[i.index],i.removed=!0,c&&(c.next=r),r&&(r.previous=c),n.first==i&&(n.first=r),n.last==i&&(n.last=c),h?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=o(this),i=re(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),or(r.prototype,n?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return c(this,0===t?0:t,e)}}:{add:function(t){return c(this,t=0===t?0:t,t)}}),h&&sr(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=lr(e),o=lr(i);oi(t,e,(function(t,e){ur(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=gt(t),n=J.f;h&&e&&!e[cr]&&n(e,cr,{configurable:!0,get:function(){return this}})}(e)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),fr="Array Iterator",gr=ut.set,hr=ut.getterFor(fr),Ir=oi(Array,"Array",(function(t,e){gr(this,{type:fr,target:U(t),index:0,kind:e})}),(function(){var t=hr(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");jn.Arguments=jn.Array,ji("keys"),ji("values"),ji("entries");var pr=Ot("iterator"),yr=Ot("toStringTag"),br=Ir.values;for(var mr in dr){var vr=f[mr],Br=vr&&vr.prototype;if(Br){if(Br[pr]!==br)try{H(Br,pr,br)}catch(t){Br[pr]=br}if(Br[yr]||H(Br,yr,mr),dr[mr])for(var Cr in Ir)if(Br[Cr]!==Ir[Cr])try{H(Br,Cr,Ir[Cr])}catch(t){Br[Cr]=Ir[Cr]}}}dt.Set;function Fr(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}function Ur(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var c=n.then;if("function"==typeof c)return void c.call(n,(function(e){o(t,e)}),(function(n){i[t]={status:"rejected",reason:n},0==--r&&e(i)}))}i[t]={status:"fulfilled",value:n},0==--r&&e(i)}for(var c=0;c<i.length;c++)o(c,i[c])}))}var Vr=setTimeout;function Zr(t){return Boolean(t&&void 0!==t.length)}function Sr(){}function Xr(t){if(!(this instanceof Xr))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ar(t,this)}function Gr(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Xr._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void Qr(e.promise,t)}wr(e.promise,i)}else(1===t._state?wr:Qr)(e.promise,t._value)}))):t._deferreds.push(e)}function wr(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof Xr)return t._state=3,t._value=e,void xr(t);if("function"==typeof n)return void Ar((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,xr(t)}catch(e){Qr(t,e)}var i,r}function Qr(t,e){t._state=2,t._value=e,xr(t)}function xr(t){2===t._state&&0===t._deferreds.length&&Xr._immediateFn((function(){t._handled||Xr._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Gr(t,t._deferreds[e]);t._deferreds=null}function Rr(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function Ar(t,e){var n=!1;try{t((function(t){n||(n=!0,wr(e,t))}),(function(t){n||(n=!0,Qr(e,t))}))}catch(t){if(n)return;n=!0,Qr(e,t)}}Xr.prototype.catch=function(t){return this.then(null,t)},Xr.prototype.then=function(t,e){var n=new this.constructor(Sr);return Gr(this,new Rr(t,e,n)),n},Xr.prototype.finally=Fr,Xr.all=function(t){return new Xr((function(e,n){if(!Zr(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var s=c.then;if("function"==typeof s)return void s.call(c,(function(e){o(t,e)}),n)}i[t]=c,0==--r&&e(i)}catch(t){n(t)}}for(var c=0;c<i.length;c++)o(c,i[c])}))},Xr.allSettled=Ur,Xr.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Xr?t:new Xr((function(e){e(t)}))},Xr.reject=function(t){return new Xr((function(e,n){n(t)}))},Xr.race=function(t){return new Xr((function(e,n){if(!Zr(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)Xr.resolve(t[i]).then(e,n)}))},Xr._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){Vr(t,0)},Xr._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Wr=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"function"!=typeof Wr.Promise?Wr.Promise=Xr:Wr.Promise.prototype.finally?Wr.Promise.allSettled||(Wr.Promise.allSettled=Ur):Wr.Promise.prototype.finally=Fr,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===r.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function i(t){for(var e=0,n=Math.min(65536,t.length+1),i=new Uint16Array(n),r=[],o=0;;){var c=e<t.length;if(!c||o>=n-1){if(r.push(String.fromCharCode.apply(null,i.subarray(0,o))),!c)return r.join("");t=t.subarray(e),o=e=0}if(0==(128&(c=t[e++])))i[o++]=c;else if(192==(224&c)){var s=63&t[e++];i[o++]=(31&c)<<6|s}else if(224==(240&c)){s=63&t[e++];var a=63&t[e++];i[o++]=(31&c)<<12|s<<6|a}else if(240==(248&c)){65535<(c=(7&c)<<18|(s=63&t[e++])<<12|(a=63&t[e++])<<6|63&t[e++])&&(c-=65536,i[o++]=c>>>10&1023|55296,c=56320|1023&c),i[o++]=c}}}if(t.TextEncoder&&t.TextDecoder)return!1;var r=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,i=0,r=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(r>>>3<<3);e<n;){var c=t.charCodeAt(e++);if(55296<=c&&56319>=c){if(e<n){var s=t.charCodeAt(e);56320==(64512&s)&&(++e,c=((1023&c)<<10)+(1023&s)+65536)}if(55296<=c&&56319>=c)continue}if(i+4>o.length&&(r+=8,r=(r*=1+e/t.length*2)>>>3<<3,(s=new Uint8Array(r)).set(o),o=s),0==(4294967168&c))o[i++]=c;else{if(0==(4294965248&c))o[i++]=c>>>6&31|192;else if(0==(4294901760&c))o[i++]=c>>>12&15|224,o[i++]=c>>>6&63|128;else{if(0!=(4292870144&c))continue;o[i++]=c>>>18&7|240,o[i++]=c>>>12&63|128,o[i++]=c>>>6&63|128}o[i++]=63&c|128}}return o.slice?o.slice(0,i):o.subarray(0,i)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=i;"function"==typeof Buffer&&Buffer.from?o=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return i(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),o(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:a),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function l(t){var e=c();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return u(this,n)}}function d(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=d(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}var g=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,r=n.length;i<r;i++)if(n[i]===e)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(t){var e=this;if(t.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(e,t)}))},i=this.listeners[t.type],r=0,o=i.length;r<o;r++)n(i[r]);return!t.defaultPrevented}}}]),e}(),h=function(e){i(c,e);var o=l(c);function c(){var e;return t(this,c),(e=o.call(this)).listeners||g.call(s(e)),Object.defineProperty(s(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(s(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(r(c.prototype),"dispatchEvent",this).call(this,t)}}]),c}(g),I=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new h,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function p(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(I.prototype[Symbol.toStringTag]="AbortController",h.prototype[Symbol.toStringTag]="AbortSignal"),function(t){p(t)&&(t.AbortController=I,t.AbortSignal=h)}("undefined"!=typeof self?self:a)}();var Lr=l((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var i=t.locked.get(e);void 0===i?void 0===n?t.locked.set(e,[]):t.locked.set(e,[n]):void 0!==n&&(i.unshift(n),t.locked.set(e,i))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,i){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var i=n.pop();t.locked.set(e,n),void 0!==i&&setTimeout(i,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));u(Lr);var Jr=u(l((function(t,e){var n=a&&a.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{a(i.next(t))}catch(t){o(t)}}function s(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(c,s)}a((i=i.apply(t,e||[])).next())}))},i=a&&a.__generator||function(t,e){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var r="browser-tabs-lock-key";function o(t){return new Promise((function(e){return setTimeout(e,t)}))}function c(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<t;i++){n+=e[Math.floor(Math.random()*e.length)]}return n}var s=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,a,u,l,d,f;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+c(4),a=Date.now()+s,u=r+"-"+e,l=window.localStorage,i.label=1;case 1:return Date.now()<a?[4,o(30)]:[3,8];case 2:return i.sent(),null!==l.getItem(u)?[3,5]:(d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return i.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return i.sent(),null!==(f=l.getItem(u))&&(f=JSON.parse(f)).id===this.id&&f.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(a)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var r=this;return i(this,(function(o){return setTimeout((function(){return n(r,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,Lr.default().lock(e)];case 1:return i.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(r=n.getItem(t))?(Lr.default().unlock(e),[2]):((r=JSON.parse(r)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(r)),Lr.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(Lr.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,r=Date.now(),o=!1;function c(){if(o||(window.removeEventListener("storage",c),t.removeFromWaiting(c),clearTimeout(s),o=!0),!i){i=!0;var e=50-(Date.now()-r);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",c),t.addToWaiting(c);var s=setTimeout(c,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,o,c;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,o=r+"-"+e,null===(c=n.getItem(o))?[2]:(c=JSON.parse(c)).id!==this.id?[3,2]:[4,Lr.default().lock(c.iat)];case 1:i.sent(),this.acquiredIatSet.delete(c.iat),n.removeItem(o),Lr.default().unlock(c.iat),t.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),o=!1,c=0;c<i.length;c++){var s=i[c];if(s.includes(r)){var a=n.getItem(s);null!==a&&(void 0===(a=JSON.parse(a)).timeRefreshed&&a.timeAcquired<e||void 0!==a.timeRefreshed&&a.timeRefreshed<e)&&(n.removeItem(s),o=!0)}}o&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=s}))),Hr={timeoutInSeconds:60},kr="memory",Er=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Tr={name:"auth0-spa-js",version:"1.16.1"},Yr=function(t){function n(e,i){var r=t.call(this,i)||this;return r.error=e,r.error_description=i,Object.setPrototypeOf(r,n.prototype),r}return e(n,t),n.fromPayload=function(t){return new n(t.error,t.error_description)},n}(Error),Nr=function(t){function n(e,i,r,o){void 0===o&&(o=null);var c=t.call(this,e,i)||this;return c.state=r,c.appState=o,Object.setPrototypeOf(c,n.prototype),c}return e(n,t),n}(Yr),Kr=function(t){function n(){var e=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(e,n.prototype),e}return e(n,t),n}(Yr),Or=function(t){function n(e){var i=t.call(this)||this;return i.popup=e,Object.setPrototypeOf(i,n.prototype),i}return e(n,t),n}(Kr),zr=function(t){function n(e){var i=t.call(this,"cancelled","Popup closed")||this;return i.popup=e,Object.setPrototypeOf(i,n.prototype),i}return e(n,t),n}(Yr),Pr=function(t,e,n){return void 0===n&&(n=60),new Promise((function(i,r){var o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";var c,s=function(){window.document.body.contains(o)&&(window.document.body.removeChild(o),window.removeEventListener("message",c,!1))},a=setTimeout((function(){r(new Kr),s()}),1e3*n);c=function(t){if(t.origin==e&&t.data&&"authorization_response"===t.data.type){var n=t.source;n&&n.close(),t.data.response.error?r(Yr.fromPayload(t.data.response)):i(t.data.response),clearTimeout(a),window.removeEventListener("message",c,!1),setTimeout(s,2e3)}},window.addEventListener("message",c,!1),window.document.body.appendChild(o),o.setAttribute("src",t)}))},jr=function(t){return new Promise((function(e,n){var i,r=setInterval((function(){t.popup&&t.popup.closed&&(clearInterval(r),clearTimeout(o),window.removeEventListener("message",i,!1),n(new zr(t.popup)))}),1e3),o=setTimeout((function(){clearInterval(r),n(new Or(t.popup)),window.removeEventListener("message",i,!1)}),1e3*(t.timeoutInSeconds||60));i=function(c){if(c.data&&"authorization_response"===c.data.type){if(clearTimeout(o),clearInterval(r),window.removeEventListener("message",i,!1),t.popup.close(),c.data.response.error)return n(Yr.fromPayload(c.data.response));e(c.data.response)}},window.addEventListener("message",i)}))},Dr=function(){return window.crypto||window.msCrypto},_r=function(){var t=Dr();return t.subtle||t.webkitSubtle},Mr=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(Dr().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},qr=function(t){return btoa(t)},$r=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},to=function(t){return r(void 0,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return e=_r().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},eo=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},no=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,s(Array.from(e)))))};var io=function(t,e){return r(void 0,void 0,void 0,(function(){var n,i;return o(this,(function(r){switch(r.label){case 0:return[4,(o=t,c=e,c=c||{},new Promise((function(t,e){var n=new XMLHttpRequest,i=[],r=[],s={},a=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:a,headers:{keys:function(){return i},entries:function(){return r},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var u in n.open(c.method||"get",o,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){i.push(e=e.toLowerCase()),r.push([e,n]),s[e]=s[e]?s[e]+","+n:n})),t(a())},n.onerror=e,n.withCredentials="include"==c.credentials,c.headers)n.setRequestHeader(u,c.headers[u]);n.send(c.body||null)})))];case 1:return n=r.sent(),i={ok:n.ok},[4,n.json()];case 2:return[2,(i.json=r.sent(),i)]}var o,c}))}))},ro=function(t,e,n){return r(void 0,void 0,void 0,(function(){var i,r;return o(this,(function(o){return i=new AbortController,e.signal=i.signal,[2,Promise.race([io(t,e),new Promise((function(t,e){r=setTimeout((function(){i.abort(),e(new Error("Timeout when executing 'fetch'"))}),n)}))]).finally((function(){clearTimeout(r)}))]}))}))},oo=function(t,e,n,i,c,s){return r(void 0,void 0,void 0,(function(){return o(this,(function(r){return[2,(o={auth:{audience:e,scope:n},timeout:c,fetchUrl:t,fetchOptions:i},a=s,new Promise((function(t,e){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?e(new Error(n.data.error)):t(n.data)},a.postMessage(o,[n.port2])})))];var o,a}))}))},co=function(t,e,n,i,c,s){return void 0===s&&(s=1e4),r(void 0,void 0,void 0,(function(){return o(this,(function(r){return c?[2,oo(t,e,n,i,s,c)]:[2,ro(t,i,s)]}))}))};function so(t,e,n,c,s,a){return r(this,void 0,void 0,(function(){var r,u,l,d,f,g,h,I;return o(this,(function(o){switch(o.label){case 0:r=null,l=0,o.label=1;case 1:if(!(l<3))return[3,6];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,co(t,n,c,s,a,e)];case 3:return u=o.sent(),r=null,[3,6];case 4:return d=o.sent(),r=d,[3,5];case 5:return l++,[3,1];case 6:if(r)throw r.message=r.message||"Failed to fetch",r;if(f=u.json,g=f.error,h=f.error_description,I=i(f,["error","error_description"]),!u.ok)throw new Yr(g||"request_error",h||"HTTP error. Unable to fetch "+t);return[2,I]}}))}))}function ao(t,e){var n=t.baseUrl,c=t.timeout,s=t.audience,a=t.scope,u=t.auth0Client,l=i(t,["baseUrl","timeout","audience","scope","auth0Client"]);return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,so(n+"/oauth/token",c,s||"default",a,{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json","Auth0-Client":btoa(JSON.stringify(u||Tr))}},e)];case 1:return[2,t.sent()]}}))}))}var uo=function(t){return Array.from(new Set(t))},lo=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uo(t.join(" ").trim().split(/\s+/)).join(" ")},fo="@@auth0spajs@@",go=function(){function t(t,e){void 0===e&&(e=fo),this.prefix=e,this.client_id=t.client_id,this.scope=t.scope,this.audience=t.audience}return t.prototype.toKey=function(){return this.prefix+"::"+this.client_id+"::"+this.audience+"::"+this.scope},t.fromKey=function(e){var n=c(e.split("::"),4),i=n[0],r=n[1],o=n[2];return new t({client_id:r,scope:n[3],audience:o},i)},t.fromCacheEntry=function(e){return new t({scope:e.scope,audience:e.audience,client_id:e.client_id})},t}(),ho=function(){function t(){}return t.prototype.set=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.get=function(t){var e=window.localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch(t){return}},t.prototype.remove=function(t){localStorage.removeItem(t)},t.prototype.allKeys=function(){return Object.keys(window.localStorage).filter((function(t){return t.startsWith(fo)}))},t}(),Io=function(){this.enclosedCache=function(){var t={};return{set:function(e,n){t[e]=n},get:function(e){var n=t[e];if(n)return n},remove:function(e){delete t[e]},allKeys:function(){return Object.keys(t)}}}()},po=function(){function t(t,e){this.cache=t,this.clientId=e,this.manifestKey=this.createManifestKeyFrom(e)}return t.prototype.add=function(t){var e;return r(this,void 0,void 0,(function(){var n,i;return o(this,(function(r){switch(r.label){case 0:return i=Set.bind,[4,this.cache.get(this.manifestKey)];case 1:return(n=new(i.apply(Set,[void 0,(null===(e=r.sent())||void 0===e?void 0:e.keys)||[]]))).add(t),[4,this.cache.set(this.manifestKey,{keys:s(n)})];case 2:return r.sent(),[2]}}))}))},t.prototype.remove=function(t){return r(this,void 0,void 0,(function(){var e,n;return o(this,(function(i){switch(i.label){case 0:return[4,this.cache.get(this.manifestKey)];case 1:return(e=i.sent())?((n=new Set(e.keys)).delete(t),n.size>0?[4,this.cache.set(this.manifestKey,{keys:s(n)})]:[3,3]):[3,5];case 2:return[2,i.sent()];case 3:return[4,this.cache.remove(this.manifestKey)];case 4:return[2,i.sent()];case 5:return[2]}}))}))},t.prototype.get=function(){return this.cache.get(this.manifestKey)},t.prototype.clear=function(){return this.cache.remove(this.manifestKey)},t.prototype.createManifestKeyFrom=function(t){return"@@auth0spajs@@::"+t},t}(),yo=function(){function t(t,e){this.cache=t,t.allKeys||(this.keyManifest=new po(this.cache,e))}return t.prototype.get=function(t,e){var n;return void 0===e&&(e=0),r(this,void 0,void 0,(function(){var i,r,c,s;return o(this,(function(o){switch(o.label){case 0:return[4,this.cache.get(t.toKey())];case 1:return(i=o.sent())?[3,4]:[4,this.getCacheKeys()];case 2:return(r=o.sent())?(c=this.matchExistingCacheKey(t,r),[4,this.cache.get(c)]):[2];case 3:i=o.sent(),o.label=4;case 4:return i?(s=Math.floor(Date.now()/1e3),i.expiresAt-e<s?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},[4,this.cache.set(t.toKey(),i)]):[3,6]:[3,9]):[2];case 5:return o.sent(),[2,i.body];case 6:return[4,this.cache.remove(t.toKey())];case 7:return o.sent(),[4,null===(n=this.keyManifest)||void 0===n?void 0:n.remove(t.toKey())];case 8:return o.sent(),[2];case 9:return[2,i.body]}}))}))},t.prototype.set=function(t){var e;return r(this,void 0,void 0,(function(){var n,i;return o(this,(function(r){switch(r.label){case 0:return n=new go({client_id:t.client_id,scope:t.scope,audience:t.audience}),i=this.wrapCacheEntry(t),[4,this.cache.set(n.toKey(),i)];case 1:return r.sent(),[4,null===(e=this.keyManifest)||void 0===e?void 0:e.add(n.toKey())];case 2:return r.sent(),[2]}}))}))},t.prototype.clear=function(){var t;return r(this,void 0,void 0,(function(){var e,n=this;return o(this,(function(i){switch(i.label){case 0:return[4,this.getCacheKeys()];case 1:return(e=i.sent())?(e.forEach((function(t){return r(n,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.cache.remove(t)];case 1:return e.sent(),[2]}}))}))})),[4,null===(t=this.keyManifest)||void 0===t?void 0:t.clear()]):[2];case 2:return i.sent(),[2]}}))}))},t.prototype.clearSync=function(){var t=this,e=this.cache.allKeys();e&&e.forEach((function(e){t.cache.remove(e)}))},t.prototype.wrapCacheEntry=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},t.prototype.getCacheKeys=function(){var t;return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return this.keyManifest?[4,this.keyManifest.get()]:[3,2];case 1:return e=null===(t=n.sent())||void 0===t?void 0:t.keys,[3,4];case 2:return[4,this.cache.allKeys()];case 3:e=n.sent(),n.label=4;case 4:return[2,e]}}))}))},t.prototype.matchExistingCacheKey=function(t,e){return e.filter((function(e){var n=go.fromKey(e),i=new Set(n.scope&&n.scope.split(" ")),r=t.scope.split(" "),o=n.scope&&r.reduce((function(t,e){return t&&i.has(e)}),!0);return n.prefix===fo&&n.client_id===t.client_id&&n.audience===t.audience&&o}))[0]},t}(),bo="a0.spajs.txs",mo=function(){function t(t){this.storage=t,this.transaction=this.storage.get(bo)}return t.prototype.create=function(t){this.transaction=t,this.storage.save(bo,t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove(bo)},t}(),vo=function(t){return"number"==typeof t},Bo=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Co=function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=c(e,3),i=n[0],r=n[1],o=n[2];if(3!==e.length||!i||!r||!o)throw new Error("ID token could not be decoded");var s=JSON.parse(eo(r)),a={__raw:t},u={};return Object.keys(s).forEach((function(t){a[t]=s[t],Bo.includes(t)||(u[t]=s[t])})),{encoded:{header:i,payload:r,signature:o},header:JSON.parse(eo(i)),claims:a,user:u}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!vo(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!vo(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!vo(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,i=new Date(Date.now()),r=new Date(0),o=new Date(0),s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r.setUTCSeconds(e.claims.exp+n),o.setUTCSeconds(e.claims.nbf-n),i>r)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+i+") is after expiration time ("+r+")");if(vo(e.claims.nbf)&&i<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+i+") is before "+o);if(vo(e.claims.auth_time)&&i>s)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+i+") is after last auth at "+s);if(t.organizationId){if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(t.organizationId!==e.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'+t.organizationId+'", found "'+e.claims.org_id+'"')}return e},Fo=l((function(t,e){var n=a&&a.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function r(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return i("Expires",t.expires?t.expires.toUTCString():"")+i("Domain",t.domain)+i("Path",t.path)+i("Secure",t.secure)+i("SameSite",t.sameSite)}(n)}function o(t){for(var e={},n=t?t.split("; "):[],i=/(%[\dA-F]{2})+/gi,r=0;r<n.length;r++){var o=n[r].split("="),c=o.slice(1).join("=");'"'===c.charAt(0)&&(c=c.slice(1,-1));try{e[o[0].replace(i,decodeURIComponent)]=c.replace(i,decodeURIComponent)}catch(t){}}return e}function c(){return o(document.cookie)}function s(t,e,i){document.cookie=r(t,e,n({path:"/"},i))}e.__esModule=!0,e.encode=r,e.parse=o,e.getAll=c,e.get=function(t){return c()[t]},e.set=s,e.remove=function(t,e){s(t,"",n(n({},e),{expires:-1}))}}));u(Fo);Fo.encode,Fo.parse,Fo.getAll;var Uo=Fo.get,Vo=Fo.set,Zo=Fo.remove,So={get:function(t){var e=Uo(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var i={};"https:"===window.location.protocol&&(i={secure:!0,sameSite:"none"}),i.expires=n.daysUntilExpire,Vo(t,JSON.stringify(e),i)},remove:function(t){Zo(t)}},Xo={get:function(t){var e=So.get(t);return e||So.get("_legacy_"+t)},save:function(t,e,n){var i={};"https:"===window.location.protocol&&(i={secure:!0}),i.expires=n.daysUntilExpire,Vo("_legacy_"+t,JSON.stringify(e),i),So.save(t,e,n)},remove:function(t){So.remove(t),So.remove("_legacy_"+t)}},Go={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};function wo(t,e,n){var i=void 0===e?null:e,r=function(t,e){var n=atob(t);if(e){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(t,void 0!==n&&n),o=r.indexOf("\n",10)+1,c=r.substring(o)+(i?"//# sourceMappingURL="+i:""),s=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(s)}var Qo,xo,Ro,Ao,Wo=(Qo="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKgogICAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAgICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlCiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQogICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZCiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVECiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLAogICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC4KCiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMKICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGM9by5kYXRhLGw9Yy50aW1lb3V0LGY9Yy5hdXRoLGg9Yy5mZXRjaFVybCxwPWMuZmV0Y2hPcHRpb25zLHk9ZnVuY3Rpb24oZSxyKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl07aWYoIXQpcmV0dXJuIGU7dmFyIG4sbyxzPXQuY2FsbChlKSxhPVtdO3RyeXtmb3IoOyh2b2lkIDA9PT1yfHxyLS0gPjApJiYhKG49cy5uZXh0KCkpLmRvbmU7KWEucHVzaChuLnZhbHVlKX1jYXRjaChlKXtvPXtlcnJvcjplfX1maW5hbGx5e3RyeXtuJiYhbi5kb25lJiYodD1zLnJldHVybikmJnQuY2FsbChzKX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19cmV0dXJuIGF9KG8ucG9ydHMsMSlbMF07cmV0dXJuIHM9dm9pZCAwLGE9dm9pZCAwLHU9ZnVuY3Rpb24oKXt2YXIgbyxzLGEsaSx1LGMsYixkLHYsdztyZXR1cm4gcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmE9KHM9Znx8e30pLmF1ZGllbmNlLGk9cy5zY29wZSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKHU9SlNPTi5wYXJzZShwLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT11LmdyYW50X3R5cGUpe2lmKCEoYz1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KGEsaSkpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO3AuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30sdSkse3JlZnJlc2hfdG9rZW46Y30pKX1iPXZvaWQgMCwiZnVuY3Rpb24iPT10eXBlb2YgQWJvcnRDb250cm9sbGVyJiYoYj1uZXcgQWJvcnRDb250cm9sbGVyLHAuc2lnbmFsPWIuc2lnbmFsKSxkPXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoZz1sLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGcpfSkpKSxmZXRjaChoLGUoe30scCkpXSldO2Nhc2UgMzpyZXR1cm4gZD1yLnNlbnQoKSxbMyw1XTtjYXNlIDQ6cmV0dXJuIHY9ci5zZW50KCkseS5wb3N0TWVzc2FnZSh7ZXJyb3I6di5tZXNzYWdlfSksWzJdO2Nhc2UgNTpyZXR1cm4gZD9bNCxkLmpzb24oKV06KGImJmIuYWJvcnQoKSx5LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pLFsyXSk7Y2FzZSA2OnJldHVybihvPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KG8ucmVmcmVzaF90b2tlbixhLGkpLGRlbGV0ZSBvLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0oYSxpKSx5LnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246b30pLFszLDhdO2Nhc2UgNzpyZXR1cm4gdz1yLnNlbnQoKSx5LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjp3Lm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgZ30pKX0sbmV3KChpPXZvaWQgMCl8fChpPVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKHUubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byh1LnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyBpKChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKCh1PXUuYXBwbHkocyxhfHxbXSkpLm5leHQoKSl9KSl9KSl9KCk7Cgo=",xo="data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy93b3JrZXIvdG9rZW4ud29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcbmltcG9ydCB2ZXJzaW9uIGZyb20gJy4vdmVyc2lvbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTID0gNjA7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BVUF9DT05GSUdfT1BUSU9OUzogUG9wdXBDb25maWdPcHRpb25zID0ge1xuICB0aW1lb3V0SW5TZWNvbmRzOiBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFNcbn07XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9TSUxFTlRfVE9LRU5fUkVUUllfQ09VTlQgPSAzO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IENMRUFOVVBfSUZSQU1FX1RJTUVPVVRfSU5fU0VDT05EUyA9IDI7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9GRVRDSF9USU1FT1VUX01TID0gMTAwMDA7XG5cbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9NRU1PUlkgPSAnbWVtb3J5JztcbmV4cG9ydCBjb25zdCBDQUNIRV9MT0NBVElPTl9MT0NBTF9TVE9SQUdFID0gJ2xvY2Fsc3RvcmFnZSc7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPVxuICAnVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbic7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgSU5WQUxJRF9SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgPSAnaW52YWxpZCByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9BVVRIMF9DTElFTlQgPSB7XG4gIG5hbWU6ICdhdXRoMC1zcGEtanMnLFxuICB2ZXJzaW9uOiB2ZXJzaW9uXG59O1xuIiwiaW1wb3J0IHsgTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgV29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZSB9IGZyb20gJy4vd29ya2VyLnR5cGVzJztcblxubGV0IHJlZnJlc2hUb2tlbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT4gYCR7YXVkaWVuY2V9fCR7c2NvcGV9YDtcblxuY29uc3QgZ2V0UmVmcmVzaFRva2VuID0gKGF1ZGllbmNlOiBzdHJpbmcsIHNjb3BlOiBzdHJpbmcpID0+XG4gIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHNldFJlZnJlc2hUb2tlbiA9IChcbiAgcmVmcmVzaFRva2VuOiBzdHJpbmcsXG4gIGF1ZGllbmNlOiBzdHJpbmcsXG4gIHNjb3BlOiBzdHJpbmdcbikgPT4gKHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV0gPSByZWZyZXNoVG9rZW4pO1xuXG5jb25zdCBkZWxldGVSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2U6IHN0cmluZywgc2NvcGU6IHN0cmluZykgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQgPSAodGltZTogbnVtYmVyKSA9PlxuICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZSkpO1xuXG5jb25zdCBtZXNzYWdlSGFuZGxlciA9IGFzeW5jICh7XG4gIGRhdGE6IHsgdGltZW91dCwgYXV0aCwgZmV0Y2hVcmwsIGZldGNoT3B0aW9ucyB9LFxuICBwb3J0czogW3BvcnRdXG59OiBNZXNzYWdlRXZlbnQ8V29ya2VyUmVmcmVzaFRva2VuTWVzc2FnZT4pID0+IHtcbiAgbGV0IGpzb246IHtcbiAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nO1xuICB9O1xuXG4gIGNvbnN0IHsgYXVkaWVuY2UsIHNjb3BlIH0gPSBhdXRoIHx8IHt9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZmV0Y2hPcHRpb25zLmJvZHkpO1xuXG4gICAgaWYgKCFib2R5LnJlZnJlc2hfdG9rZW4gJiYgYm9keS5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpIHtcbiAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGdldFJlZnJlc2hUb2tlbihhdWRpZW5jZSwgc2NvcGUpO1xuXG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE9wdGlvbnMuYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uYm9keSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXI7XG5cbiAgICBpZiAodHlwZW9mIEFib3J0Q29udHJvbGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgZmV0Y2hPcHRpb25zLnNpZ25hbCA9IGFib3J0Q29udHJvbGxlci5zaWduYWw7XG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlOiBhbnk7XG5cbiAgICB0cnkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICB3YWl0KHRpbWVvdXQpLFxuICAgICAgICBmZXRjaChmZXRjaFVybCwgeyAuLi5mZXRjaE9wdGlvbnMgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBmZXRjaCBlcnJvciwgcmVqZWN0IGBzZW5kTWVzc2FnZWAgdXNpbmcgYGVycm9yYCBrZXkgc28gdGhhdCB3ZSByZXRyeS5cbiAgICAgIHBvcnQucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYHN3aXRjaEZldGNoYCByYWlzZSB0aGUgZXJyb3IuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcblxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBcIlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJ1wiXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidGltZW91dCIsImF1dGgiLCJmZXRjaFVybCIsImZldGNoT3B0aW9ucyIsInBvcnQiLCJvIiwibSIsInIiLCJhciIsImVycm9yIiwiX19yZWFkIiwiX2QiLCJKU09OIiwicGFyc2UiLCJyZWZyZXNoX3Rva2VuIiwiZ3JhbnRfdHlwZSIsInJlZnJlc2hUb2tlbiIsImdldFJlZnJlc2hUb2tlbiIsIkVycm9yIiwic3RyaW5naWZ5IiwiYWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwic2lnbmFsIiwicmVzcG9uc2UiLCJQcm9taXNlIiwicmFjZSIsInRpbWUiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImZldGNoIiwiX2UiLCJwb3N0TWVzc2FnZSIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O29GQTZCTyxJQUFJQSxFQUFXLFdBUWxCLE9BUEFBLEVBQVdDLE9BQU9DLFFBQVUsU0FBa0JDLEdBQzFDLElBQUssSUFBSUMsRUFBR0MsRUFBSSxFQUFHQyxFQUFJQyxVQUFVQyxPQUFRSCxFQUFJQyxFQUFHRCxJQUU1QyxJQUFLLElBQUlJLEtBRFRMLEVBQUlHLFVBQVVGLEdBQ09KLE9BQU9TLFVBQVVDLGVBQWVDLEtBQUtSLEVBQUdLLEtBQUlOLEVBQUVNLEdBQUtMLEVBQUVLLElBRTlFLE9BQU9OLElBRUtVLE1BQU1DLEtBQU1QLFlBdUN6QixTQUFTUSxFQUFZQyxFQUFTQyxHQUNqQyxJQUFzR0MsRUFBR0MsRUFBR2hCLEVBQUdpQixFQUEzR0MsRUFBSSxDQUFFQyxNQUFPLEVBQUdDLEtBQU0sV0FBYSxHQUFXLEVBQVBwQixFQUFFLEdBQVEsTUFBTUEsRUFBRSxHQUFJLE9BQU9BLEVBQUUsSUFBT3FCLEtBQU0sR0FBSUMsSUFBSyxJQUNoRyxPQUFPTCxFQUFJLENBQUVNLEtBQU1DLEVBQUssR0FBSUMsTUFBU0QsRUFBSyxHQUFJRSxPQUFVRixFQUFLLElBQXdCLG1CQUFYRyxTQUEwQlYsRUFBRVUsT0FBT0MsVUFBWSxXQUFhLE9BQU9qQixPQUFVTSxFQUN2SixTQUFTTyxFQUFLckIsR0FBSyxPQUFPLFNBQVUwQixHQUFLLE9BQ3pDLFNBQWNDLEdBQ1YsR0FBSWYsRUFBRyxNQUFNLElBQUlnQixVQUFVLG1DQUMzQixLQUFPYixPQUNILEdBQUlILEVBQUksRUFBR0MsSUFBTWhCLEVBQVksRUFBUjhCLEVBQUcsR0FBU2QsRUFBVSxPQUFJYyxFQUFHLEdBQUtkLEVBQVMsU0FBT2hCLEVBQUlnQixFQUFVLFNBQU1oQixFQUFFUyxLQUFLTyxHQUFJLEdBQUtBLEVBQUVPLFNBQVd2QixFQUFJQSxFQUFFUyxLQUFLTyxFQUFHYyxFQUFHLEtBQUtFLEtBQU0sT0FBT2hDLEVBRTNKLE9BRElnQixFQUFJLEVBQUdoQixJQUFHOEIsRUFBSyxDQUFTLEVBQVJBLEVBQUcsR0FBUTlCLEVBQUVpQyxRQUN6QkgsRUFBRyxJQUNQLEtBQUssRUFBRyxLQUFLLEVBQUc5QixFQUFJOEIsRUFBSSxNQUN4QixLQUFLLEVBQWMsT0FBWFosRUFBRUMsUUFBZ0IsQ0FBRWMsTUFBT0gsRUFBRyxHQUFJRSxNQUFNLEdBQ2hELEtBQUssRUFBR2QsRUFBRUMsUUFBU0gsRUFBSWMsRUFBRyxHQUFJQSxFQUFLLENBQUMsR0FBSSxTQUN4QyxLQUFLLEVBQUdBLEVBQUtaLEVBQUVJLElBQUlZLE1BQU9oQixFQUFFRyxLQUFLYSxNQUFPLFNBQ3hDLFFBQ0ksS0FBTWxDLEVBQUlrQixFQUFFRyxNQUFNckIsRUFBSUEsRUFBRUssT0FBUyxHQUFLTCxFQUFFQSxFQUFFSyxPQUFTLEtBQWtCLElBQVZ5QixFQUFHLElBQXNCLElBQVZBLEVBQUcsSUFBVyxDQUFFWixFQUFJLEVBQUcsU0FDakcsR0FBYyxJQUFWWSxFQUFHLE1BQWM5QixHQUFNOEIsRUFBRyxHQUFLOUIsRUFBRSxJQUFNOEIsRUFBRyxHQUFLOUIsRUFBRSxJQUFNLENBQUVrQixFQUFFQyxNQUFRVyxFQUFHLEdBQUksTUFDOUUsR0FBYyxJQUFWQSxFQUFHLElBQVlaLEVBQUVDLE1BQVFuQixFQUFFLEdBQUksQ0FBRWtCLEVBQUVDLE1BQVFuQixFQUFFLEdBQUlBLEVBQUk4QixFQUFJLE1BQzdELEdBQUk5QixHQUFLa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSWtCLEVBQUVJLElBQUlhLEtBQUtMLEdBQUssTUFDdkQ5QixFQUFFLElBQUlrQixFQUFFSSxJQUFJWSxNQUNoQmhCLEVBQUVHLEtBQUthLE1BQU8sU0FFdEJKLEVBQUtoQixFQUFLTCxLQUFLSSxFQUFTSyxHQUMxQixNQUFPa0IsR0FBS04sRUFBSyxDQUFDLEVBQUdNLEdBQUlwQixFQUFJLFVBQWVELEVBQUlmLEVBQUksRUFDdEQsR0FBWSxFQUFSOEIsRUFBRyxHQUFRLE1BQU1BLEVBQUcsR0FBSSxNQUFPLENBQUVHLE1BQU9ILEVBQUcsR0FBS0EsRUFBRyxRQUFLLEVBQVFFLE1BQU0sR0FyQjlCSyxDQUFLLENBQUNsQyxFQUFHMEIsTUMzQ3RELElDakNIUyxFQUF3QyxHQUV0Q0MsRUFBVyxTQUFDQyxFQUFrQkMsR0FBa0IsT0FBR0QsTUFBWUMsR0EwR25FQyxpQkFBaUIsV0F6RkksU0FBT0MsT0Y2Q0o5QixFQUFTK0IsRUFBWUMsRUFBR0MsRUU1Q2hEQyxTQUFRQyxZQUFTQyxTQUFNQyxhQUFVQyxpQkFDekJDLEVGK0ZILFNBQWdCQyxFQUFHbEQsR0FDdEIsSUFBSW1ELEVBQXNCLG1CQUFYM0IsUUFBeUIwQixFQUFFMUIsT0FBT0MsVUFDakQsSUFBSzBCLEVBQUcsT0FBT0QsRUFDZixJQUFtQkUsRUFBWW5CLEVBQTNCbEMsRUFBSW9ELEVBQUU3QyxLQUFLNEMsR0FBT0csRUFBSyxHQUMzQixJQUNJLFdBQWMsSUFBTnJELEdBQWdCQSxLQUFNLE1BQVFvRCxFQUFJckQsRUFBRXFCLFFBQVFTLE1BQU13QixFQUFHckIsS0FBS29CLEVBQUV0QixPQUV4RSxNQUFPd0IsR0FBU3JCLEVBQUksQ0FBRXFCLE1BQU9BLFdBRXpCLElBQ1FGLElBQU1BLEVBQUV2QixPQUFTc0IsRUFBSXBELEVBQVUsU0FBSW9ELEVBQUU3QyxLQUFLUCxXQUV4QyxHQUFJa0MsRUFBRyxNQUFNQSxFQUFFcUIsT0FFN0IsT0FBT0QsRUU3R1RFLHNCRjJDd0I3QyxTQUFTK0IsU0FBZUUsdUZFckN4Q04sR0FBRm1CLEVBQXNCVixHQUFRLGFBQWxCUiwyQkFLaEIsMkJBRk0zQixFQUFPOEMsS0FBS0MsTUFBTVYsRUFBYXJDLE9BRTNCZ0QsZUFBcUMsa0JBQXBCaEQsRUFBS2lELFdBQWdDLENBRzlELEtBRk1DLEVBN0JZLFNBQUN4QixFQUFrQkMsR0FDekMsT0FBQUgsRUFBY0MsRUFBU0MsRUFBVUMsSUE0QlJ3QixDQUFnQnpCLEVBQVVDLElBRzdDLE1BQU0sSUFBSXlCLE1ERmhCLCtDQ0tJZixFQUFhckMsS0FBTzhDLEtBQUtPLGlCQUNwQnJELElBQ0hnRCxjQUFlRSxLQUlmSSxTQUUyQixtQkFBcEJDLGtCQUNURCxFQUFrQixJQUFJQyxnQkFDdEJsQixFQUFhbUIsT0FBU0YsRUFBZ0JFLFFBR3BDQywwQkFHUyxnQ0FBTUMsUUFBUUMsS0FBSyxFQXZDdEJDLEVBd0NEMUIsRUF2Q1gsSUFBSXdCLFNBQVEsU0FBQUcsR0FBVyxPQUFBQyxXQUFXRCxFQUFTRCxPQXdDckNHLE1BQU0zQixPQUFlQyxxQkFGdkJvQixFQUFXTyxzQkFVWCxrQkFKQTFCLEVBQUsyQixZQUFZLENBQ2Z0QixNQUFPdUIsRUFBTUMscUJBTWpCLE9BQUtWLEtBV1FBLEVBQVNXLFNBVGhCZCxHQUFpQkEsRUFBZ0JlLFFBRXJDL0IsRUFBSzJCLFlBQVksQ0FDZnRCLE1BQU8sc0RBTVh5QixFQUFPSixVQUVFaEIsZUExRVcsU0FDdEJFLEVBQ0F4QixFQUNBQyxHQUNJSCxFQUFjQyxFQUFTQyxFQUFVQyxJQUFVdUIsRUF1RTNDb0IsQ0FBZ0JGLEVBQUtwQixjQUFldEIsRUFBVUMsVUFDdkN5QyxFQUFLcEIsZUF0RVMsU0FBQ3RCLEVBQWtCQyxVQUNyQ0gsRUFBY0MsRUFBU0MsRUFBVUMsSUF1RXBDNEMsQ0FBbUI3QyxFQUFVQyxHQUcvQlcsRUFBSzJCLFlBQVksQ0FDZk8sR0FBSWYsRUFBU2UsR0FDYkosd0NBR0Y5QixFQUFLMkIsWUFBWSxDQUNmTyxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0FoRnBCLElBQUNQLE1GaURILEtBRG9DN0IsWUFDekJBLEVBQUkyQixXQUFVLFNBQVVHLEVBQVNjLEdBQy9DLFNBQVNDLEVBQVV6RCxHQUFTLElBQU1JLEVBQUtTLEVBQVV2QixLQUFLVSxJQUFXLE1BQU9HLEdBQUtxRCxFQUFPckQsSUFDcEYsU0FBU3VELEVBQVMxRCxHQUFTLElBQU1JLEVBQUtTLEVBQWlCLE1BQUViLElBQVcsTUFBT0csR0FBS3FELEVBQU9yRCxJQUN2RixTQUFTQyxFQUFLdUQsR0FBVUEsRUFBTzVELEtBQU8yQyxFQUFRaUIsRUFBTzNELE9BQVMsSUFBSVksR0FBRSxTQUFVOEIsR0FBV0EsRUFBUWlCLEVBQU8zRCxVQUFXNEQsS0FBS0gsRUFBV0MsR0FDbkl0RCxHQUFNUyxFQUFZQSxFQUFVcEMsTUFBTUcsRUFBUytCLEdBQWMsS0FBS3JCIn0=",Ro=!1,function(t){return Ao=Ao||wo(Qo,xo,Ro),new Worker(Ao,t)}),Lo={},Jo=new Jr,Ho="auth0.lock.getTokenSilently",ko={memory:function(){return(new Io).enclosedCache},localstorage:function(){return new ho}},Eo=function(t){return ko[t]},To=function(){return!/Trident.*rv:11\.0/.test(navigator.userAgent)},Yo=function(){function t(t){var e,n,r;if(this.options=t,"undefined"!=typeof window&&function(){if(!Dr())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===_r())throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")}(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(this.cacheLocation=t.cacheLocation||kr,!Eo(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');r=Eo(this.cacheLocation)()}this.cookieStorage=!1===t.legacySameSiteCookie?So:Xo,this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;var o,c,s=t.useCookiesForTransactions?this.cookieStorage:Go;this.scope=this.options.scope,this.transactionManager=new mo(s),this.cacheManager=new yo(r,this.options.client_id),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(o=this.options.issuer,c=this.domainUrl,o?o.startsWith("https://")?o:"https://"+o+"/":c+"/"),this.defaultScope=lo("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=lo(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&this.cacheLocation===kr&&To()&&(this.worker=new Wo),this.customOptions=function(t){return t.advancedOptions,t.audience,t.auth0Client,t.authorizeTimeoutInSeconds,t.cacheLocation,t.client_id,t.domain,t.issuer,t.leeway,t.max_age,t.redirect_uri,t.scope,t.useRefreshTokens,i(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Tr)));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,r,o,c){var s=this.options,a=(s.domain,s.leeway,s.useRefreshTokens,s.useCookiesForTransactions,s.auth0Client,s.cacheLocation,s.advancedOptions,i(s,["domain","leeway","useRefreshTokens","useCookiesForTransactions","auth0Client","cacheLocation","advancedOptions"]));return n(n(n({},a),t),{scope:lo(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:r,redirect_uri:c||this.options.redirect_uri,code_challenge:o,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+$r(t))},t.prototype._verifyIdToken=function(t,e,n){return Co({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,organizationId:n,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,r,c,s,a,u,l,d,f,g,h,I;return o(this,(function(o){switch(o.label){case 0:return e=t.redirect_uri,r=t.appState,c=i(t,["redirect_uri","appState"]),s=qr(Mr()),a=qr(Mr()),u=Mr(),[4,to(u)];case 1:return l=o.sent(),d=no(l),f=t.fragment?"#"+t.fragment:"",g=this._getParams(c,s,a,d,e),h=this._authorizeUrl(g),I=t.organization||this.options.organization,this.transactionManager.create(n({nonce:a,code_verifier:u,appState:r,scope:g.scope,audience:g.audience||"default",redirect_uri:g.redirect_uri},I&&{organizationId:I})),[2,h+f]}}))}))},t.prototype.loginWithPopup=function(t,e){return r(this,void 0,void 0,(function(){var r,c,s,a,u,l,d,f,g,h,I,p,y;return o(this,(function(o){switch(o.label){case 0:return t=t||{},(e=e||{}).popup||(e.popup=function(t){var e=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open(t,"auth0:authorize:popup","left="+e+",top="+n+",width=400,height=600,resizable,scrollbars=yes,status=1")}("")),r=i(t,[]),c=qr(Mr()),s=qr(Mr()),a=Mr(),[4,to(a)];case 1:return u=o.sent(),l=no(u),d=this._getParams(r,c,s,l,this.options.redirect_uri||window.location.origin),f=this._authorizeUrl(n(n({},d),{response_mode:"web_message"})),e.popup.location.href=f,[4,jr(n(n({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(g=o.sent(),c!==g.state)throw new Error("Invalid state");return[4,ao({audience:d.audience,scope:d.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a,code:g.code,grant_type:"authorization_code",redirect_uri:d.redirect_uri,auth0Client:this.options.auth0Client},this.worker)];case 3:return h=o.sent(),I=t.organization||this.options.organization,p=this._verifyIdToken(h.id_token,s,I),y=n(n({},h),{decodedToken:p,scope:d.scope,audience:d.audience||"default",client_id:this.options.client_id}),[4,this.cacheManager.set(y)];case 4:return o.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,n,i;return o(this,(function(r){switch(r.label){case 0:return e=t.audience||this.options.audience||"default",n=lo(this.defaultScope,this.scope,t.scope),[4,this.cacheManager.get(new go({client_id:this.options.client_id,audience:e,scope:n}))];case 1:return[2,(i=r.sent())&&i.decodedToken&&i.decodedToken.user]}}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,n,i;return o(this,(function(r){switch(r.label){case 0:return e=t.audience||this.options.audience||"default",n=lo(this.defaultScope,this.scope,t.scope),[4,this.cacheManager.get(new go({client_id:this.options.client_id,audience:e,scope:n}))];case 1:return[2,(i=r.sent())&&i.decodedToken&&i.decodedToken.claims]}}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,n,r;return o(this,(function(o){switch(o.label){case 0:return e=t.redirectMethod,n=i(t,["redirectMethod"]),[4,this.buildAuthorizeUrl(n)];case 1:return r=o.sent(),window.location[e||"assign"](r),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),r(this,void 0,void 0,(function(){var e,i,r,s,a,u,l,d,f,g,h;return o(this,(function(o){switch(o.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(i=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),i={};return e.forEach((function(t){var e=c(t.split("="),2),n=e[0],r=e[1];i[n]=decodeURIComponent(r)})),n(n({},i),{expires_in:parseInt(i.expires_in)})}(e.join("")),r=i.state,s=i.code,a=i.error,u=i.error_description,!(l=this.transactionManager.get())||!l.code_verifier)throw new Error("Invalid state");if(this.transactionManager.remove(),a)throw new Nr(a,u,r,l.appState);return d={audience:l.audience,scope:l.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:l.code_verifier,grant_type:"authorization_code",code:s,auth0Client:this.options.auth0Client},void 0!==l.redirect_uri&&(d.redirect_uri=l.redirect_uri),[4,ao(d,this.worker)];case 1:return f=o.sent(),g=this._verifyIdToken(f.id_token,l.nonce,l.organizationId),h=n(n({},f),{decodedToken:g,audience:l.audience,scope:l.scope,client_id:this.options.client_id}),[4,this.cacheManager.set(h)];case 2:return o.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:l.appState}]}}))}))},t.prototype.checkSession=function(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:if(!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(e=n.sent(),!Er.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,r,c,s=this;return o(this,(function(o){return e=n(n({audience:this.options.audience,ignoreCache:!1},t),{scope:lo(this.defaultScope,this.scope,t.scope)}),r=e.ignoreCache,c=i(e,["ignoreCache"]),[2,(a=function(){return s._getTokenSilently(n({ignoreCache:r},c))},u=this.options.client_id+"::"+c.audience+"::"+c.scope,l=Lo[u],l||(l=a().finally((function(){delete Lo[u],l=null})),Lo[u]=l),l)];var a,u,l}))}))},t.prototype._getTokenSilently=function(t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var e,c,s,a,u,l,d=this;return o(this,(function(f){switch(f.label){case 0:return e=t.ignoreCache,c=i(t,["ignoreCache"]),s=function(){return r(d,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,this.cacheManager.get(new go({scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),60)];case 1:return[2,(t=e.sent())&&t.access_token]}}))}))},e?[3,2]:[4,s()];case 1:if(a=f.sent())return[2,a];f.label=2;case 2:return[4,(g=function(){return Jo.acquireLock(Ho,5e3)},h=10,void 0===h&&(h=3),r(void 0,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<h?[4,g()]:[3,4];case 2:if(e.sent())return[2,!0];e.label=3;case 3:return t++,[3,1];case 4:return[2,!1]}}))})))];case 3:if(!f.sent())return[3,15];f.label=4;case 4:return f.trys.push([4,,12,14]),e?[3,6]:[4,s()];case 5:if(a=f.sent())return[2,a];f.label=6;case 6:return this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(c)]:[3,8];case 7:return l=f.sent(),[3,10];case 8:return[4,this._getTokenFromIFrame(c)];case 9:l=f.sent(),f.label=10;case 10:return u=l,[4,this.cacheManager.set(n({client_id:this.options.client_id},u))];case 11:return f.sent(),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,u.access_token];case 12:return[4,Jo.releaseLock(Ho)];case 13:return f.sent(),[7];case 14:return[3,16];case 15:throw new Kr;case 16:return[2]}var g,h}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),r(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=lo(this.defaultScope,this.scope,t.scope),e=n(n({},Hr),e),[4,this.loginWithPopup(t,e)];case 1:return i.sent(),[4,this.cacheManager.get(new go({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}))];case 2:return[2,i.sent().access_token]}}))}))},t.prototype.isAuthenticated=function(){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.buildLogoutUrl=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=i(t,["federated"]),r=e?"&federated":"";return this._url("/v2/logout?"+$r(n))+r},t.prototype.logout=function(t){var e=this;void 0===t&&(t={});var n=t.localOnly,r=i(t,["localOnly"]);if(n&&r.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");var o=function(){if(e.cookieStorage.remove("auth0.is.authenticated"),!n){var t=e.buildLogoutUrl(r);window.location.assign(t)}};if(this.options.cache)return this.cacheManager.clear().then((function(){return o()}));this.cacheManager.clearSync(),o()},t.prototype._getTokenFromIFrame=function(t){return r(this,void 0,void 0,(function(){var e,r,c,s,a,u,l,d,f,g,h,I,p,y,b;return o(this,(function(o){switch(o.label){case 0:return e=qr(Mr()),r=qr(Mr()),c=Mr(),[4,to(c)];case 1:s=o.sent(),a=no(s),u=this._getParams(t,e,r,a,t.redirect_uri||this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(n(n({},u),{prompt:"none",response_mode:"web_message"})),d=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,o.label=2;case 2:return o.trys.push([2,5,,6]),[4,Pr(l,this.domainUrl,d)];case 3:if(f=o.sent(),e!==f.state)throw new Error("Invalid state");return g=t.scope,h=t.audience,t.redirect_uri,t.ignoreCache,t.timeoutInSeconds,I=i(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,ao(n(n(n({},this.customOptions),I),{scope:g,audience:h,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:c,code:f.code,grant_type:"authorization_code",redirect_uri:u.redirect_uri,auth0Client:this.options.auth0Client}),this.worker)];case 4:return p=o.sent(),y=this._verifyIdToken(p.id_token,r),[2,n(n({},p),{decodedToken:y,scope:u.scope,audience:u.audience||"default"})];case 5:throw"login_required"===(b=o.sent()).error&&this.logout({localOnly:!0}),b;case 6:return[2]}}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return r(this,void 0,void 0,(function(){var e,r,c,s,a,u,l,d,f;return o(this,(function(o){switch(o.label){case 0:return t.scope=lo(this.defaultScope,this.options.scope,t.scope),[4,this.cacheManager.get(new go({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}))];case 1:return(e=o.sent())&&e.refresh_token||this.worker?[3,3]:[4,this._getTokenFromIFrame(t)];case 2:return[2,o.sent()];case 3:r=t.redirect_uri||this.options.redirect_uri||window.location.origin,s=t.scope,a=t.audience,t.ignoreCache,t.timeoutInSeconds,u=i(t,["scope","audience","ignoreCache","timeoutInSeconds"]),l="number"==typeof t.timeoutInSeconds?1e3*t.timeoutInSeconds:null,o.label=4;case 4:return o.trys.push([4,6,,9]),[4,ao(n(n(n(n(n({},this.customOptions),u),{audience:a,scope:s,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:r}),l&&{timeout:l}),{auth0Client:this.options.auth0Client}),this.worker)];case 5:return c=o.sent(),[3,9];case 6:return"The web worker is missing the refresh token"===(d=o.sent()).message||d.message&&d.message.indexOf("invalid refresh token")>-1?[4,this._getTokenFromIFrame(t)]:[3,8];case 7:return[2,o.sent()];case 8:throw d;case 9:return f=this._verifyIdToken(c.id_token),[2,n(n({},c),{decodedToken:f,scope:t.scope,audience:t.audience||"default"})]}}))}))},t}();function No(t){return r(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return[4,(e=new Yo(t)).checkSession()];case 1:return n.sent(),[2,e]}}))}))}var Ko=No;return Ko.Auth0Client=Yo,Ko.createAuth0Client=No,Ko.GenericError=Yr,Ko.AuthenticationError=Nr,Ko.TimeoutError=Kr,Ko.PopupTimeoutError=Or,Ko})),"Auth0Client"in this&&this.console&&this.console.warn&&this.console.warn("Auth0Client already declared on the global namespace"),this&&this.createAuth0Client&&(this.Auth0Client=this.Auth0Client||this.createAuth0Client.Auth0Client);
//# sourceMappingURL=auth0-spa-js.production.js.map
