{"ast":null,"code":"import _objectSpread from\"/home/sam/Documents/flipic/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/sam/Documents/flipic/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useSprings}from'react-spring';import{useDrag}from'react-use-gesture';import theme from'../Theme/theme';import Card from'../Card/Card';import{jsx as _jsx}from\"react/jsx-runtime\";var to=function to(i){return{x:0,y:i*-4,scale:1,rot:0,delay:i*100,bgColor:theme.color.background.secondary,lWidth:'50%',rWidth:'50%',lShow:'initial',rShow:'initial'};};var from=function from(i){return{x:0,rot:0,scale:1.5,y:-1000,bgColor:theme.color.background.secondary,lWidth:'50%',rWidth:'50%',lShow:'initial',rShow:'initial'};};var trans=function trans(r,s){return\"perspective(1500px) rotateX(30deg) rotateY(\".concat(r/10,\"deg) rotateZ(\").concat(r,\"deg) scale(\").concat(s,\")\");};var Deck=function Deck(_ref){var num_choices=_ref.num_choices,frontPair=_ref.frontPair,backPair=_ref.backPair,quizId=_ref.quizId,updateProgress=_ref.updateProgress,setFront=_ref.setFront,setBack=_ref.setBack,setDone=_ref.setDone;var _useState=useState(function(){return new Set();}),_useState2=_slicedToArray(_useState,1),gone=_useState2[0];// The set flags all the cards that are picked\nvar _useState3=useState(num_choices-1),_useState4=_slicedToArray(_useState3,2),frontIndex=_useState4[0],updateFrontIndex=_useState4[1];var _useState5=useState(num_choices-2),_useState6=_slicedToArray(_useState5,2),backIndex=_useState6[0],updateBackIndex=_useState6[1];var _useSprings=useSprings(num_choices,function(i){return _objectSpread(_objectSpread({},to(i)),{},{from:from(i)});}),_useSprings2=_slicedToArray(_useSprings,2),props=_useSprings2[0],set=_useSprings2[1];var sendChoice=function sendChoice(payload){fetch('https://www.flipic.net/api/quiz-vote',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)}).then(function(response){return response.json();}).then(function(payload){// console.log('Success:', payload);\n}).catch(function(error){console.error('Error:',error);});};var getMatchUp=function getMatchUp(){fetch('https://www.flipic.net/api/quiz-matchup/'+quizId).then(function(response){return response.json();}).then(function(data){// console.log(data);\nsetBack(data);}).catch(function(error){console.error('Error:',error);});};// Create a gesture, we're interested in down-state, delta (current-pos - click-pos), direction and velocity\nvar bind=useDrag(function(_ref2){var _ref2$args=_slicedToArray(_ref2.args,1),index=_ref2$args[0],down=_ref2.down,_ref2$movement=_slicedToArray(_ref2.movement,1),mx=_ref2$movement[0],_ref2$direction=_slicedToArray(_ref2.direction,1),xDir=_ref2$direction[0],velocity=_ref2.velocity;var trigger=velocity>0.2;var dir;if(xDir>0){dir=1;}else if(xDir<0){dir=-1;}else{dir=0;}if(!down&&trigger)gone.add(index);// Changing spring-data for the current spring\nset(function(i){if(index!==i)return;var isGone=gone.has(index);var x=isGone?(200+window.innerWidth)*dir:down?mx:0;// When a card is gone it flys out left or right, otherwise goes back to zero\nvar scale=down?1.1:1;// Active cards lift up a bit\nvar rot;// How much the card tilts, flicking it harder makes it rotate faster\nvar bgColor;// change card background color\nvar lWidth;// change the width of the left half card\nvar rWidth;// change the width of the right half card\nvar lShow;// change the display of the left half card\nvar rShow;// change the display of the right half card\nvar payload;// animate swiping based on the gesture\nif(x>0){bgColor=theme.color.primary;rot=mx/100+(isGone?dir*10*velocity:0);lWidth='0%';rWidth='100%';lShow='none';rShow='initial';payload={quizId:quizId,itemId:frontPair.matchup[1].id};if(!down&&isGone)sendChoice(payload);}else if(x<0){bgColor=theme.color.accent;rot=mx/100+(isGone?dir*10*velocity:0);lWidth='100%';rWidth='0%';lShow='initial';rShow='none';payload={quizId:quizId,itemId:frontPair.matchup[0].id};if(!down&&isGone)sendChoice(payload);}else{bgColor=theme.color.background.secondary;rot=0;lWidth='50%';rWidth='50%';lShow='initial';rShow='initial';}updateProgress(gone.size/num_choices);if(!down&&isGone){updateFrontIndex(frontIndex-1);updateBackIndex(backIndex-1);setFront(backPair);getMatchUp();}return{x:x,rot:rot,bgColor:bgColor,lWidth:lWidth,rWidth:rWidth,lShow:lShow,rShow:rShow,scale:scale,delay:undefined,config:{friction:100,tension:down?800:isGone?200:500}};});if(!down&&gone.size===num_choices){setDone(true);}});return props.map(function(_ref3,i){var x=_ref3.x,y=_ref3.y,rot=_ref3.rot,scale=_ref3.scale,bgColor=_ref3.bgColor,lWidth=_ref3.lWidth,rWidth=_ref3.rWidth,lShow=_ref3.lShow,rShow=_ref3.rShow;return/*#__PURE__*/_jsx(Card,{i:i,x:x,y:y,bind:bind,trans:trans,rot:rot,scale:scale,bgColor:bgColor,lWidth:lWidth,rWidth:rWidth,lShow:lShow,rShow:rShow,frontIndex:frontIndex,backIndex:backIndex,frontPair:frontPair,backPair:backPair},i);});};export default Deck;","map":{"version":3,"sources":["/home/sam/Documents/flipic/front-end/src/components/Deck/Deck.js"],"names":["React","useState","useSprings","useDrag","theme","Card","to","i","x","y","scale","rot","delay","bgColor","color","background","secondary","lWidth","rWidth","lShow","rShow","from","trans","r","s","Deck","num_choices","frontPair","backPair","quizId","updateProgress","setFront","setBack","setDone","Set","gone","frontIndex","updateFrontIndex","backIndex","updateBackIndex","props","set","sendChoice","payload","fetch","method","headers","body","JSON","stringify","then","response","json","catch","error","console","getMatchUp","data","bind","args","index","down","movement","mx","direction","xDir","velocity","trigger","dir","add","isGone","has","window","innerWidth","primary","itemId","matchup","id","accent","size","undefined","config","friction","tension","map"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSprings } from 'react-spring';\nimport { useDrag } from 'react-use-gesture';\nimport theme from '../Theme/theme';\nimport Card from '../Card/Card';\n\nconst to = i => ({\n\tx: 0,\n\ty: i * -4,\n\tscale: 1,\n\trot: 0,\n\tdelay: i * 100,\n\tbgColor: theme.color.background.secondary,\n\tlWidth: '50%',\n\trWidth: '50%',\n\tlShow: 'initial',\n\trShow: 'initial',\n});\nconst from = i => ({\n\tx: 0,\n\trot: 0,\n\tscale: 1.5,\n\ty: -1000,\n\tbgColor: theme.color.background.secondary,\n\tlWidth: '50%',\n\trWidth: '50%',\n\tlShow: 'initial',\n\trShow: 'initial',\n});\n\nconst trans = (r, s) => `perspective(1500px) rotateX(30deg) rotateY(${r / 10}deg) rotateZ(${r}deg) scale(${s})`;\n\nconst Deck = ({ num_choices, frontPair, backPair, quizId, updateProgress, setFront, setBack, setDone }) => {\n\tconst [gone] = useState(() => new Set()); // The set flags all the cards that are picked\n\n\tconst [frontIndex, updateFrontIndex] = useState(num_choices - 1);\n\tconst [backIndex, updateBackIndex] = useState(num_choices - 2);\n\n\tconst [props, set] = useSprings(num_choices, i => ({\n\t\t...to(i),\n\t\tfrom: from(i),\n\t}));\n\n\tconst sendChoice = payload => {\n\t\tfetch('https://www.flipic.net/api/quiz-vote', {\n\t\t\t\n\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify(payload),\n\t\t\t\t})\n\t\t\t\t.then(response => response.json())\n\t\t\t\t.then(payload => {\n\t\t\t\t\t// console.log('Success:', payload);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error('Error:', error);\n\t\t\t\t});\n\t};\n\n\tconst getMatchUp = () => {\n\t\tfetch('https://www.flipic.net/api/quiz-matchup/' + quizId)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\t// console.log(data);\n\t\t\t\tsetBack(data);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error('Error:', error);\n\t\t\t});\n\t};\n\n\t// Create a gesture, we're interested in down-state, delta (current-pos - click-pos), direction and velocity\n\tconst bind = useDrag(({ args: [index], down, movement: [mx], direction: [xDir], velocity }) => {\n\t\tconst trigger = velocity > 0.2;\n\n\t\tlet dir;\n\t\tif (xDir > 0) {\n\t\t\tdir = 1;\n\t\t} else if (xDir < 0) {\n\t\t\tdir = -1;\n\t\t} else {\n\t\t\tdir = 0;\n\t\t}\n\n\t\tif (!down && trigger) gone.add(index);\n\n\t\t// Changing spring-data for the current spring\n\t\tset(i => {\n\t\t\tif (index !== i) return;\n\t\t\tconst isGone = gone.has(index);\n\t\t\tconst x = isGone ? (200 + window.innerWidth) * dir : down ? mx : 0; // When a card is gone it flys out left or right, otherwise goes back to zero\n\t\t\tconst scale = down ? 1.1 : 1; // Active cards lift up a bit\n\t\t\tlet rot; // How much the card tilts, flicking it harder makes it rotate faster\n\t\t\tlet bgColor; // change card background color\n\t\t\tlet lWidth; // change the width of the left half card\n\t\t\tlet rWidth; // change the width of the right half card\n\t\t\tlet lShow; // change the display of the left half card\n\t\t\tlet rShow; // change the display of the right half card\n\t\t\tlet payload;\n\n\t\t\t// animate swiping based on the gesture\n\t\t\tif (x > 0) {\n\t\t\t\tbgColor = theme.color.primary;\n\t\t\t\trot = mx / 100 + (isGone ? dir * 10 * velocity : 0);\n\t\t\t\tlWidth = '0%';\n\t\t\t\trWidth = '100%';\n\t\t\t\tlShow = 'none';\n\t\t\t\trShow = 'initial';\n\t\t\t\tpayload = {\n\t\t\t\t\tquizId: quizId,\n\t\t\t\t\titemId: frontPair.matchup[1].id,\n\t\t\t\t};\n\t\t\t\tif (!down && isGone) sendChoice(payload);\n\t\t\t} else if (x < 0) {\n\t\t\t\tbgColor = theme.color.accent;\n\t\t\t\trot = mx / 100 + (isGone ? dir * 10 * velocity : 0);\n\t\t\t\tlWidth = '100%';\n\t\t\t\trWidth = '0%';\n\t\t\t\tlShow = 'initial';\n\t\t\t\trShow = 'none';\n\t\t\t\tpayload = {\n\t\t\t\t\tquizId: quizId,\n\t\t\t\t\titemId: frontPair.matchup[0].id,\n\t\t\t\t};\n\t\t\t\tif (!down && isGone) sendChoice(payload);\n\t\t\t} else {\n\t\t\t\tbgColor = theme.color.background.secondary;\n\t\t\t\trot = 0;\n\t\t\t\tlWidth = '50%';\n\t\t\t\trWidth = '50%';\n\t\t\t\tlShow = 'initial';\n\t\t\t\trShow = 'initial';\n\t\t\t}\n\n\t\t\tupdateProgress(gone.size / num_choices);\n\t\t\tif (!down && isGone) {\n\t\t\t\tupdateFrontIndex(frontIndex - 1);\n\t\t\t\tupdateBackIndex(backIndex - 1);\n\t\t\t\tsetFront(backPair);\n\t\t\t\tgetMatchUp();\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx,\n\t\t\t\trot,\n\t\t\t\tbgColor,\n\t\t\t\tlWidth,\n\t\t\t\trWidth,\n\t\t\t\tlShow,\n\t\t\t\trShow,\n\t\t\t\tscale,\n\t\t\t\tdelay: undefined,\n\t\t\t\tconfig: { friction: 100, tension: down ? 800 : isGone ? 200 : 500 },\n\t\t\t};\n\t\t});\n\n\t\tif (!down && gone.size === num_choices) {\n\t\t\tsetDone(true);\n\t\t}\n\t});\n\n\treturn props.map(({ x, y, rot, scale, bgColor, lWidth, rWidth, lShow, rShow }, i) => (\n\t\t<Card\n\t\t\tkey={i}\n\t\t\ti={i}\n\t\t\tx={x}\n\t\t\ty={y}\n\t\t\tbind={bind}\n\t\t\ttrans={trans}\n\t\t\trot={rot}\n\t\t\tscale={scale}\n\t\t\tbgColor={bgColor}\n\t\t\tlWidth={lWidth}\n\t\t\trWidth={rWidth}\n\t\t\tlShow={lShow}\n\t\t\trShow={rShow}\n\t\t\tfrontIndex={frontIndex}\n\t\t\tbackIndex={backIndex}\n\t\t\tfrontPair={frontPair}\n\t\t\tbackPair={backPair}\n\t\t/>\n\t));\n};\n\nexport default Deck;\n"]},"metadata":{},"sourceType":"module"}